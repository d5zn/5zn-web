# –†–ï–§–ê–ö–¢–û–†–ò–ù–ì VIEWPORT –ò CANVAS

## –ß—Ç–æ –±—ã–ª–æ —É–¥–∞–ª–µ–Ω–æ

### ‚ùå –ù–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
- `calculateViewport()` - –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω
- –í—Å–µ –≤—ã–∑–æ–≤—ã `calculateViewport()` - –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `applyFigmaScale()`

### ‚ùå –ù–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `this.internalAspectRatio` - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- `this.scale` - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- `this.offsetX` - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è  
- `this.offsetY` - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### ‚ùå –ù–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ CSS —Å—Ç–∏–ª–∏:
- –£–ø—Ä–æ—â–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –£–¥–∞–ª–µ–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
- –£–ø—Ä–æ—â–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ viewport/stage

## –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å

### ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
- `applyFigmaScale()` - –æ—Å–Ω–æ–≤–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- `resizeCanvas()` - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π
- `setupCanvas()` - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π
- `forceMobileDisplay()` - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π

### ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `this.internalWidth = 1080`
- `this.internalHeight = 1920`

### ‚úÖ –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ CSS:
- `#viewport` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- `#stage` - –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- `#connected` - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞–∫–µ—Ç 1080x1920
- `#connected canvas` - canvas –≤–Ω—É—Ç—Ä–∏ –º–∞–∫–µ—Ç–∞

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### üéØ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
```
Viewport (100% x 100%)
  ‚îî‚îÄ‚îÄ Stage (flex center)
      ‚îî‚îÄ‚îÄ Connected (1080x1920, absolute, centered)
          ‚îî‚îÄ‚îÄ Canvas (1080x1920, absolute)
```

### üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- **–ú–µ–Ω—å—à–µ –∫–æ–¥–∞** - —É–¥–∞–ª–µ–Ω—ã –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- **–ü—Ä–æ—â–µ –ª–æ–≥–∏–∫–∞** - —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- **–ß–∏—â–µ CSS** - —É–±—Ä–∞–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ —Å—Ç–∏–ª–∏
- **–õ—É—á—à–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –º–µ–Ω—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

### üìù –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:
1. **Canvas** —Ä–∏—Å—É–µ—Ç—Å—è –≤ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ 1080x1920
2. **Connected** –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è –ø–æ —Ü–µ–Ω—Ç—Ä—É viewport
3. **Transform scale()** –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç –≤–µ—Å—å –º–∞–∫–µ—Ç
4. **–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã** –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ

## –ö–æ–¥ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### JavaScript:
```javascript
// –¢–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
this.internalWidth = 1080;
this.internalHeight = 1920;

// –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π resizeCanvas
resizeCanvas() {
    const dpr = Math.min(window.devicePixelRatio || 1, 2);
    this.canvas.width = this.internalWidth * dpr;
    this.canvas.height = this.internalHeight * dpr;
    this.canvas.style.width = this.internalWidth + 'px';
    this.canvas.style.height = this.internalHeight + 'px';
    this.ctx.scale(dpr, dpr);
}

// –û—Å–Ω–æ–≤–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
applyFigmaScale() {
    const scale = Math.min(vpRect.width / 1080, vpRect.height / 1920);
    this.connected.style.transform = `translate(50%, 50%) scale(${scale}) translate(-50%, -50%)`;
}
```

### CSS:
```css
#viewport {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

#stage {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

#connected {
    position: absolute;
    width: 1080px;
    height: 1920px;
    transform-origin: center center;
    left: 50%;
    top: 50%;
    margin-left: -540px;
    margin-top: -960px;
}
```

## –ò—Ç–æ–≥

‚úÖ **–ö–æ–¥ —Å—Ç–∞–ª —á–∏—â–µ** - —É–¥–∞–ª–µ–Ω—ã –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ  
‚úÖ **–õ–æ–≥–∏–∫–∞ —É–ø—Ä–æ—â–µ–Ω–∞** - —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å  
‚úÖ **CSS –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω** - —É–±—Ä–∞–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ —Å—Ç–∏–ª–∏  
‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞** - –º–µ–Ω—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π  
‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–Ω—è—Ç–Ω–∞** - —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
